{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport react, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { UserContext } from '../App';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Logout = () => {\n  _s();\n\n  const {\n    state,\n    dispatch\n  } = useContext(UserContext);\n  const history = useHistory();\n\n  const logoutUser = async () => {\n    try {\n      const data = await fetch(\"/api/logout\", {\n        method: \"GET\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      });\n      const jsondata = await data.json();\n\n      if (data.status == 200) {\n        dispatch({\n          type: \"USER\",\n          payload: false\n        });\n        history.push(\"/\");\n        window.alert(jsondata.message);\n      } else {\n        throw new Error('logout cannot be done');\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    logoutUser();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n\n_s(Logout, \"DgKEWaNhbOwnHoD6l8FTH9vyJ9w=\", false, function () {\n  return [useHistory];\n});\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["D:/mern/mern_project/ui/src/components/Logout.js"],"names":["react","useContext","useEffect","useHistory","UserContext","Logout","state","dispatch","history","logoutUser","data","fetch","method","headers","Accept","credentials","jsondata","json","status","type","payload","push","window","alert","message","Error","error","console","log"],"mappings":";;AAAA,OAAOA,KAAP,IAAcC,UAAd,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,QAA5B;;;;AAEA,MAAMC,MAAM,GAAG,MAAI;AAAA;;AAEf,QAAM;AAACC,IAAAA,KAAD;AAASC,IAAAA;AAAT,MAAqBN,UAAU,CAACG,WAAD,CAArC;AACA,QAAMI,OAAO,GAAGL,UAAU,EAA1B;;AAEA,QAAMM,UAAU,GAAE,YAAU;AACxB,QAAG;AACC,YAAMC,IAAI,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAe;AACnCC,QAAAA,MAAM,EAAC,KAD4B;AAEnCC,QAAAA,OAAO,EAAC;AACJC,UAAAA,MAAM,EAAC,kBADH;AAEJ,0BAAe;AAFX,SAF2B;AAMnCC,QAAAA,WAAW,EAAC;AANuB,OAAf,CAAxB;AASA,YAAMC,QAAQ,GAAE,MAAMN,IAAI,CAACO,IAAL,EAAtB;;AACA,UAAGP,IAAI,CAACQ,MAAL,IAAa,GAAhB,EAAoB;AAChBX,QAAAA,QAAQ,CAAC;AAACY,UAAAA,IAAI,EAAC,MAAN;AAAaC,UAAAA,OAAO,EAAC;AAArB,SAAD,CAAR;AACAZ,QAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACAC,QAAAA,MAAM,CAACC,KAAP,CAAaP,QAAQ,CAACQ,OAAtB;AACH,OAJD,MAIK;AACD,cAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH;AAEJ,KAnBD,CAmBC,OAAMC,KAAN,EAAY;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AAEJ,GAxBD;;AA0BAxB,EAAAA,SAAS,CAAC,MAAI;AACVO,IAAAA,UAAU;AACb,GAFQ,EAEP,EAFO,CAAT;AAIA,sBACI,qCADJ;AAKH,CAxCD;;GAAMJ,M;UAGcF,U;;;KAHdE,M;AA0CN,eAAeA,MAAf","sourcesContent":["import react,{useContext, useEffect} from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\n\r\nconst Logout = ()=>{\r\n\r\n    const {state , dispatch} = useContext(UserContext);\r\n    const history = useHistory();\r\n\r\n    const logoutUser =async ()=>{\r\n        try{\r\n            const data = await fetch(\"/api/logout\",{\r\n                method:\"GET\",\r\n                headers:{\r\n                    Accept:\"application/json\",\r\n                    \"Content-Type\":\"application/json\"\r\n                },\r\n                credentials:\"include\"\r\n            });\r\n    \r\n            const jsondata= await data.json();\r\n            if(data.status==200){\r\n                dispatch({type:\"USER\",payload:false});\r\n                history.push(\"/\");\r\n                window.alert(jsondata.message);\r\n            }else{\r\n                throw new Error('logout cannot be done');\r\n            }\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        logoutUser();\r\n    },[])\r\n\r\n    return(\r\n        <>\r\n        \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout;"]},"metadata":{},"sourceType":"module"}